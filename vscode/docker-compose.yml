services:
    vscode:
        build: 
          context: $ODOO_IMAGES/vscode
          args:
            OWNER_UID: $OWNER_UID
        restart: "unless-stopped"
        ports:
            - "5900:5900"
        volumes:
          - ${CUSTOMS_DIR}:/opt/src
          - ${ODOO_IMAGES}/vscode/user_data:/home/userdata
          - ${ODOO_IMAGES}/vscode/entrypoint.sh:/entrypoint.sh
        environment:
            - DISPLAY_WIDTH=1024
            - DISPLAY_HEIGHT=768
            - DISPLAY_COLOR=16
    novnc_vscode:
        build:
          context: $ODOO_IMAGES/novnc
          args:
            relpathname: vscode
        restart: "unless-stopped"
        links:
            - vscode
        environment:
          - DISPLAY_WIDTH=1024
          - DISPLAY_HEIGHT=768
          - AUTOCONNECT=true
          # - RUN_XTERM={yes|no} (yes)
          # - RUN_FLUXBOX={yes|no} (yes)
          - VNC_PASSWORD=code
          - VNC_SERVER=vscode:5900
          - VIEW_ONLY=false